# MAX7219, TM1638, and Rotary Encoder

This repository contains source code and testbenches for implementing and simulating drivers for the MAX7219, TM1638, and rotary encoder. Simulations are performed using Icarus Verilog, with GTKWave used for signal visualization.

- [Icarus Verilog Documentation](https://steveicarus.github.io/iverilog/)
- [GTKWave Documentation](https://gtkwave.sourceforge.net/)

---

## Building and Running Simulations

You can compile and run simulations in two ways:

- Using the provided `Makefile`
- Manually

### Using `make`

To build and run all tests, use:

```bash
make all
```

The output will be placed in:

```bash
ls -al build/$(hostname)/{bin,run,logs}
```

Check the log files to ensure tests completed successfully.

### Manual Build

There are three basic steps:

1. **Create output folders:**
    ```bash
    mkdir -p bin run logs
    ```

2. **Compile with Icarus Verilog:**
    ```bash
    iverilog -Wall -g2012 -o bin/tm1638_driver \
        design/tm1638_types.v \
        design/tm1638_driver_types.v \
        design/tm1638_driver.v \
        design/tm1638_stimulus.v \
        tb/tm1638_driver_tb.v
    ```
    > **Note:** The order of input files matters! The testbench must be last.

3. **Run the simulation:**
    ```bash
    cd run
    ../bin/tm1638_driver >& ../logs/tm1638_driver.log
    cd ..
    ```

This will generate the following file containing the simulated time series:

```bash
run/tm1638_driver.vcd
```

---

## Visualizing Waveforms

To view a waveform generated by `make`, run:

```bash
gtkwave build/$(hostname)/run/tm1638_driver.vcd
```
